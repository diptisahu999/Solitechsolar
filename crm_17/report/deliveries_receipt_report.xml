<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
        <template id="deliveries_receipt_report">
            <t t-call="web.html_container">
                <style>
                    tr,td{
                        font-family: "Times New Roman" !important;
                        border:none;
                    }
                    table{
                        border:none;
                    }
                </style>
                <t t-foreach="docs" t-as="o">
                    <div class="page">
                        <t t-set="tot_box_qty" t-value="0" />
                        <t t-if="sum(o.move_ids_without_package.mapped('box_qty')) > 0">
                            <t t-set="tot_box_qty" t-value="sum(o.move_ids_without_package.mapped('box_qty'))" />
                        </t>
                        <t t-set="srl" t-value="0" />
                        <t t-if="tot_box_qty > 0">
                            <t t-foreach="range(tot_box_qty)" t-as="i">
                            <t t-set="srl" t-value="srl + 1" />
                                <table width="100%" style="padding-bottom:15px;padding-top:1px;">
                                    <tr>
                                        <td style="font-size:13px;">
                                            <b><span>To : </span><span t-esc="o.partner_id.city"/><br/>
                                            <span t-esc="o.partner_id.name"/><br/>
                                            <t t-if="o.partner_id.street">
                                                <span t-esc="o.partner_id.street"/><br/>
                                            </t>
                                            <t t-if="o.partner_id.street2">
                                                <span t-esc="o.partner_id.street2"/><br/>
                                            </t>
                                            <span t-esc="o.partner_id.city"/><t t-if="o.partner_id.state_id.name">
                                                , <span t-esc="o.partner_id.state_id.name"/>
                                            </t><t t-if="o.partner_id.zip">
                                                - <span t-esc="o.partner_id.zip"/><br/>
                                            </t>
                                            <span>CONTACT : </span><t t-if="o.partner_id.phone">
                                                    <span t-esc="o.partner_id.phone"/><br/>
                                                </t>
                                                <t t-else="">
                                                    <span t-esc="o.partner_id.mobile"/><br/>
                                                </t></b>
                                        </td>
                                    </tr>  
                                </table>
                                
                                <table width="100%" style="border: 2px solid skyblue; border-collapse: collapse;">
                                    <tr>
                                        <!-- <td>
                                            <b><span>FROM : </span><span t-esc="o.company_id.state_id.name"/><br/>
                                            <span t-esc="o.company_id.name"/><br/>
                                            <t t-if="o.company_id.street">
                                                <span t-esc="o.company_id.street"/><br/>
                                            </t>
                                            <t t-if="o.company_id.street2">
                                                <span t-esc="o.company_id.street2"/><br/>
                                            </t>
                                            <span t-esc="o.company_id.city"/><t t-if="o.company_id.state_id.name">
                                                , <span t-esc="o.company_id.state_id.name"/>
                                            </t><t t-if="o.company_id.zip">
                                                - <span t-esc="o.company_id.zip"/><br/>
                                            </t>
                                            <span>Mob : </span><t t-if="o.company_id.phone">
                                                    <span t-esc="o.company_id.phone"/> / 
                                                </t>
                                                <t t-if="">
                                                    <span t-esc="o.company_id.mobile"/><br/>
                                                </t></b>
                                        </td> -->
                                        <td style="font-size:10px;padding-top:3px;">
                                            <b><div t-raw="o.company_id._convert_text_to_html(o.company_id.warehouse_address)"/></b>
                                        </td>
                                    </tr>  
                                </table>
                                <table width="100%" style="padding-top:1px;">
                                    <tr>
                                        <td style="text-align: right; vertical-align: bottom;bottom: 0;padding-right:15px;">
                                            <b><span style="font-size:20px;"><span t-esc="srl"/>/<span t-esc="tot_box_qty"/></span></b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span>------------------------------------------------</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="vertical-align: top;bottom: 0;padding-left:10px;">
                                            <b><span style="font-size:18px;"><span t-esc="o.courier_id.name"/></span></b>
                                        </td>
                                    </tr>
                                </table>
                                <t t-if="i != tot_box_qty - 1">
                                    <p style="page-break-after: always;"/>
                                </t>
                            </t>
                        </t>
                    </div>
                </t>
            </t>
        </template>
    </data>

</odoo>
